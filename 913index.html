<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>编辑练习</title>
	<script>
		window.onload=function(){
			var tr=document.getElementsByTagName("tr");
			for(var i=0;i<tr.length;i++){
				// bgChange(tr[i]);
				
				tr[i].setAttribute('onmouseover',document.all?eval(function(){this.style.background="#f2f2f2"}):'javascript:this.style.background="#f2f2f2"');
				tr[i].setAttribute('onmouseout',document.all?eval(function(){this.style.background="#fff"}):'javascript:this.style.background="#fff"');
			}
			// alert("ok");
		}
		 // 鼠标移动改变背景,可以通过给每行绑定鼠标移上事件和鼠标移除事件来改变所在行背景色。
		 function bgChange(obj){
		 	obj.onmouseover=function(){
		 		obj.style.backgroundColor="#f2f2f2";
		 	}
		 	obj.onmouseout=function(){
		 		obj.style.backgroundColor="#fff";
		 	}
		 }

		 // 编写一个函数，供添加按钮调用，动态在表格的最后一行添加子节点；
		 // 方法二：
		 var num=2;
		 function add(){
		 	num++;
		 	var tr=document.createElement("tr");
		 	var xh=document.createElement("td");
		 	var xm=document.createElement("td");
		 	xh.innerHTML="xh00"+num;
		 	xm.innerHTML="第"+num+"学生";
		 	var del=document.createElement("td");
		 	del.innerHTML="<a href='javascript:;' onclick='del(this)'>删除</a>";
		 	var tab=document.getElementById("table");
		 	tab.appendChild(tr);
		 	tr.appendChild(xh);
		 	tr.appendChild(xm);
		 	tr.appendChild(del);
		 	var tr=document.getElementsByTagName("tr");
		 	for(var i=0;i<tr.length;i++){
		 		bgChange(tr[i]);
		 	}
		 }
		 // 方法一：
		 function addtr(){
		 	var sNum=prompt("请输入学号",'');
		 	var sName=prompt('请输入姓名','');
		 	if(sNum!=null && sNum!='' && sName!=null && sName!=''){
		 		var newtr=document.createElement('tr');
		 		var newtrs=newtr.innerHTML='<td>'+sNum+'</td>'+'<td>'+sName+'</td>'+'<td><a href="javascript:;" onclick="del(this)">删除</a></td>';
		 		var oTC=document.getElementById("table").lastChild;
		 		oTC.appendChild(newtr);
		 		// alert('ok');
		 	}else{
		 		alert('请重新输入');
		 	}
		 }

		 // 创建删除函数
		function del(obj){
			var tr=obj.parentNode.parentNode;
			tr.parentNode.removeChild(tr);
			// alert("dfdf");
		}
	</script>
</head>
<body>
	<table border="1" width="50%" id="table">
		<tr>
			<th>学号</th>
			<th>姓名</th>
			<th>操作</th>
		</tr>  

		<tr>
			<td>xh001</td>
			<td>王小明</td>
			<td><a href="javascript:;" onclick="del(this);">删除</a></td>   <!--在删除按钮上添加点击事件  -->
		</tr>

		<tr>
			<td>xh002</td>
			<td>刘小芳</td>
			<td><a href="javascript:;" onclock="del(this);">删除</a></td>   <!--在删除按钮上添加点击事件  -->
		</tr>  
	</table>
	<input type="button" value="添加一行" onclick='add();' />   <!--在添加按钮上添加点击事件  -->
</body>
</html>